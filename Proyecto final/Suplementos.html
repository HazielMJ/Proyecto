<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>...Chayagym...</title>
<link rel="stylesheet" href="Cat.css" type="text/css"/>
</head>
<body class="main-container">
  <div class="header">
    <div class="logo">
      <a href="PaginPrin.html"><img src="Img/logo.png" alt="Chayagym" width="100" height="100"></a>
  </div>
  <div class="Nombre">
    <h1>Chayagym</h1>
  </div>
    <div class="dropdown">
      <button onclick="toggleDropdown()" class="dropbtn">Categorias</button>
      <div id="myDropdown" class="dropdown-content">
        <a href="Suplementos.html">Suplementos</a>
        <a href="Bebidas.html">Bebidas energeticas y deportivas</a>
        <a href="Equipo.html">Equipo</a>
        <a href="Ropa.html">Ropa</a>
        <a href="Accesorios.html">Accesorios</a>
      </div>
    </div>
    <div class="cart-icon">
      <a href="Carro.html"><img src="Img/Carrito.png" alt="Icono del Carrito" width="70" height="70"></a>
    </div>
    <button class="login"><a href="Login.html" class="login">Iniciar Sesión</a></button>
  </div>
<script>
  function toggleDropdown() {
  var dropdownContent = document.getElementById("myDropdown");
  dropdownContent.classList.toggle("show");
}

// Cerrar el menú si el usuario hace clic fuera de él
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

</script>


<button class="menu-btn" onclick="toggleMenu()">Mi Lista</button>
<div class="menu" id="menu">
  <ul id="menu-items">
    <!-- Elementos de la lista se agregarán aquí -->
  </ul>
  <button class="realizar-compra-btn" onclick="realizarCompra()">Realizar Compra</button>
</div>
  <div class="container">
    <div class="row">
      <div class="item">
          <img src="img/Amino.jpeg" alt="Producto" class="Prod">
        
          <div class="product-info">
              <p>OPTIMUM NUTRITION AMINO ENERGY 270 GRS</p>
              <p>Proporciona aminoácidos esenciales
                Aumenta la producción de Óxido Nítrico
                Acelera la recuperación muscular
                Mejora la energía y la concentración</p>
              <p>Precio: $350.00</p>
              <button class="boton-carro" onclick="agregarAlCarro('Amino', 350)">Agregar al Carro</button>
            </div>
      </div>
      <div class="item">
          <img src="img/B-nox.jpeg" alt="Producto" class="Prod">
        
          <div class="product-info">
            <p>Pre Entreno Bullnox B-nox (35 Servicios) Los Sabores Sabor Watermelon</p>
            <p>Componente principal: pre entreno.
              Tamaño de la porción: 1g.
              Sin lactosa.
              Edad mínima recomendada: 18 años.
              Este producto es un suplemento dietario, no es un medicamento. Suplementa dietas insuficientes. Consulte a su médico y/o farmacéutico.</p>
            <p>Precio: $649.00</p>
            <button class="boton-carro" onclick="agregarAlCarro('B-nox', 649)">Agregar al Carro</button>
            </div>
      </div>
      <div class="item">
          <img src="img/carnivor.jpeg" alt="Producto" class="Prod">
        
          <div class="product-info">
            <p>MMDS Carnivor 4.5 lb Sabor Chocolate</p>
            <p>
              Marca	Genérico
              Sabor	Chocolate
              Peso del producto	4,5 Libras
              Cantidad de unidades	2000.00 gramo</p>
            <p>Precio: $999.00</p>
            <button class="boton-carro" onclick="agregarAlCarro('carnivor', 999)">Agregar al Carro</button>
        </div>
      </div>
      <div class="item">
          <img src="img/Creatine.jpeg" alt="Producto" class="Prod">
        
          <div class="product-info">
            <p>GAT Creatina 1.00 kg (200 Servicios) Creatine monohydrate</p>
            <p>Marca	Genérico
              Sabor	Sin sabor
              Cantidad de unidades	1000.00 gramo
              Forma del producto	Polvo
              Número de artículos	1
              Forma de dosificación	Polvo</p>
            <p>Precio: $999.00</p>
            <button class="boton-carro" onclick="agregarAlCarro('Creatine', 999)">Agregar al Carro</button>
            </div>
      </div>
    </div>
    <div class="container">
  <div class="row">
    <div class="item">
        <img src="img/Hiroshima.jpeg" alt="Producto" class="Prod">
      
        <div class="product-info">
          <p>DARK MATTER HIROSHIMA 30 SER</p>
          <p>-30 Servicios
            -50mcg de CLEMB
            -450mg de Cafeína
            -5,000 mg Beta Alanin
            </p>
          <p>Precio: $515.00</p>
          <button class="boton-carro" onclick="agregarAlCarro('Hiroshima', 515)">Agregar al Carro</button>
          </div>
      </div>
    <div class="item">
        <img src="img/HMB.jpeg" alt="Producto" class="Prod">
      
        <div class="product-info">
          <p>Nutrex Black Hmb 1000 120 Capsulas Fuerza Musculo Aminoacido</p>
          <p>Unidades por pack: 1
            Unidades por envase: 120
            Formato de venta: Unidad
            Componente principal: aminoácidos.
            Tamaño de la porción: 1g.
            Libre de gluten y lactosa.
            Producto vegano.</p>
          <p>Precio: $256.00</p>
          <button class="boton-carro" onclick="agregarAlCarro('HMB', 256)">Agregar al Carro</button>
          </div>
      </div>
    <div class="item">
        <img src="img/Nitrotech.jpeg" alt="Producto" class="Prod">
      
        <div class="product-info">
          <p>Nitro-Tech Ripped 4 Lbs</p>
          <p>MuscleTech diseñó esta fórmula única para ofrecer proteína ultrapura más pérdida de peso con resultados reales, no se parece a nada de lo que hayas visto antes.</p>
          <p>Precio: $1000.00</p>
          <button class="boton-carro" onclick="agregarAlCarro('Nitrotech', 1000)">Agregar al Carro</button>
          </div>
      </div>
    <div class="item">
        <img src="img/Psychotic.jpeg" alt="Producto" class="Prod">
        
        <div class="product-info">
          <p>Pre Entreno Psychotic Insane Labz 30 Servicios Sabor Manzana</p>
          <p>Unidades por pack: 1
            Formato de venta: Unidad
            Componente principal: psychotic blend.
            Tamaño de la porción: 6g.
            Porciones por envase: 35.
            Sin lactosa.
            </p>
          <p>Precio: $409.00</p>
          <button class="boton-carro" onclick="agregarAlCarro('Psychotic', 409)">Agregar al Carro</button>
          </div>
    </div>
  </div>
</div>

<div id="carrito"></div>

<script>
function getImageSource(producto) {
  var imagenPorProducto = {
    "Amino": "img/Amino.jpeg",
    "B-nox": "img/B-nox.jpeg",
    "carnivor": "img/carnivor.jpeg",
    "Creatine": "img/Creatine.jpeg",
    "Hiroshima": "img/Hiroshima.jpeg",
    "HMB": "img/HMB.jpeg",
    "Nitrotech": "img/Nitrotech.jpeg",
    "Psychotic": "img/Psychotic.jpeg",
    // Agrega más productos y rutas de imágenes según sea necesario
  };
  // Devuelve la ruta de la imagen correspondiente al producto
  return imagenPorProducto[producto];
}

// Objeto para llevar el registro de la cantidad de productos en el carrito
var carritoProductos = {};

function toggleMenu() {
  var menu = document.getElementById("menu");
  menu.classList.toggle("active");

  if (menu.classList.contains("active")) {
    // Mostrar los datos en el menú
    mostrarDatos();
  }
}

function mostrarDatos() {
  // Ocultar el div que contiene el mensaje
  var mensajeCarrito = document.getElementById("carrito");
  mensajeCarrito.style.display = "none";

  var listaMenu = document.getElementById("menu-items");
  listaMenu.innerHTML = ""; // Limpiar la lista antes de agregar nuevos elementos

  var total = 0;

  // Agregar cada producto al menú "Mi Lista"
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var precioUnitario = carritoProductos[producto].precio;
    var subtotal = cantidad * precioUnitario;
    total += subtotal;

    var nuevoElemento = document.createElement("li");
    nuevoElemento.innerHTML = `<img src="${getImageSource(producto)}" alt="${producto}" class="product-image">${producto} - Cantidad: ${cantidad} - Subtotal: $${subtotal.toFixed(2)} <button class="boton-quitar" onclick="quitarDelCarro('${producto}')">Quitar</button>`;
    listaMenu.appendChild(nuevoElemento);
  });

  // Agregar el total al final de la lista
  var totalElemento = document.createElement("li");
  totalElemento.textContent = "Total: $" + total.toFixed(2);
  listaMenu.appendChild(totalElemento);

}

function agregarAlCarro(nombreProducto, precioProducto) {
  if (carritoProductos[nombreProducto]) {
    // Si el producto ya está en el carrito, incrementar la cantidad
    carritoProductos[nombreProducto].cantidad++;
  } else {
    // Si es la primera vez que se agrega el producto, establecer la cantidad en 1
    carritoProductos[nombreProducto] = { cantidad: 1, precio: precioProducto };
  }

  // Actualizar la visualización del carrito y la lista "Mi Lista"
  actualizarCarrito();
  mostrarDatos();
}

function quitarDelCarro(nombreProducto) {
  if (carritoProductos[nombreProducto]) {
    // Restar la cantidad del producto en el carrito
    carritoProductos[nombreProducto].cantidad--;

    // Si la cantidad es cero, eliminar el producto del carrito
    if (carritoProductos[nombreProducto].cantidad === 0) {
      delete carritoProductos[nombreProducto];
    }
  }

  // Actualizar la visualización del carrito y la lista "Mi Lista"
  actualizarCarrito();
  mostrarDatos();
}

function actualizarCarrito() {
  var carrito = document.getElementById("carrito");
  carrito.innerHTML = ""; // Limpiar el carrito antes de agregar nuevos elementos

  // Actualizar el contenido del carrito con la lista de productos y sus cantidades
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var nuevoElemento = document.createElement("p");
    nuevoElemento.textContent = "Producto: " + producto + ", Cantidad: " + cantidad;
    carrito.appendChild(nuevoElemento);
  });
}

  function realizarCompra() {
  // Calcula el total de la compra
  var totalCompra = calcularTotalCompra();

  // Redirige a otra página y pasa el total de la compra como parámetro
  window.location.href = "Pagos.html?total=" + totalCompra;
}

function calcularTotalCompra() {
  var total = 0;

  // Itera sobre los productos en el carrito y calcula el subtotal de cada uno
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var precioUnitario = carritoProductos[producto].precio;
    var subtotal = cantidad * precioUnitario;
    total += subtotal;
  });

  return total.toFixed(2);
}
</script>

<footer class="footer">
  <div class="footer-content">
      <div class="footer-section about">
          <h2>Sobre Nosotros</h2>
          <p>Somos una tienda de artículos deportivos comprometida con la calidad y el servicio al cliente.</p>
      </div>

      <div class="footer-section enlaces-rapidos">
          <h2>Enlaces Rápidos</h2>
          <ul>
              <li><a href="#">Inicio</a></li>
              <li><a href="#">Productos</a></li>
              <li><a href="#">Contacto</a></li>
              <li><a href="#">Términos y Condiciones</a></li>
          </ul>
      </div>

      <div class="footer-section contacto">
          <h2>Contacto</h2>
          <p><i class="fas fa-phone"></i> +1 (123) 456-7890</p>
          <p><i class="fas fa-envelope"></i> info@tuempresa.com</p>
      </div>

      <div class="footer-section redes-sociales">
          <h2>Redes Sociales</h2>
          <ul>
              <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
              <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
              <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
              <li><a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
          </ul>
      </div>
  </div>

  <div class="footer-bottom">
      &copy; 2024 Tu Empresa | Todos los derechos reservados
  </div>
</footer>
</body>
</html>
